(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/logBack/logBack"],{"2e58":function(t,e,a){"use strict";a.r(e);var n=a("8fb1"),r=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);e["default"]=r.a},5391:function(t,e,a){"use strict";a.r(e);var n=a("f09c"),r=a("2e58");for(var o in r)"default"!==o&&function(t){a.d(e,t,function(){return r[t]})}(o);a("9757");var i=a("2877"),u=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"7044e801",null);e["default"]=u.exports},8050:function(t,e,a){},"8fb1":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a("2f62");function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),n.forEach(function(e){o(t,e,a[e])})}return t}function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var i={data:function(){return{from_url:""}},onLoad:function(t){var e=getCurrentPages();console.log(e);var a=e[e.length-2];this.from_url="/"+a.route;var n=a.options;if("{}"!==JSON.stringify(n)){var r="";for(var o in n)r+=o+"="+n[o];this.from_url=this.from_url+"?"+r}},computed:r({},(0,n.mapState)(["user_info"])),methods:{logBack:function(){var e=this;t.showLoading({title:"登录中"});var a=this.user_info;t.request({url:this.$api_url+"personwx.refreshJWT/1.0/",data:{openId:this.$store.getters.openId,loginName:a.loginName,city:a.city,country:a.country,gender:a.gender,language:a.language,nickName:a.nickName,province:a.province,avatarUrl:a.avatarUrl},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(a){console.log(a.data);var n=e.$store.state.user_info;n.id=e.$utils._get(a,"data.data.id",""),n.jwt=e.$utils._get(a,"data.data.jwt",""),n.openid=e.$utils._get(a,"data.data.openId",""),n.loginName=e.$utils._get(a,"data.data.loginName",n.nickName),n.status=e.$utils._get(a,"data.data.status","0"),e.$store.commit("setUserInfo",n),e.$store.commit("setRefreshJwt",!1);var r=e.$utils._get(a,"data.data.isHead","0"),o=e.$utils._get(a,"data.data.isSubscribe",!1);e.$store.commit("setIsHead",r),e.$store.commit("setIsSubscribe","1"===o),t.hideLoading(),t.showToast({title:"登录成功",duration:2e3,icon:"none",success:function(){t.navigateBack({delta:1}),t.$emit("refreshJwt")}})}})}}};e.default=i}).call(this,a("543d")["default"])},9757:function(t,e,a){"use strict";var n=a("8050"),r=a.n(n);r.a},f09c:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},r=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return r})},f75b:function(t,e,a){"use strict";(function(t){a("ac93"),a("921b");n(a("66fd"));var e=n(a("5391"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])}},[["f75b","common/runtime","common/vendor"]]]);