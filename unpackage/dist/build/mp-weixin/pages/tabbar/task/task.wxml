<view class="task-index data-v-9b858fac"><cu-custom vue-id="1" bgColor="bg-gradual-blue" class="data-v-9b858fac" bind:__l="__l" vue-slots="{{['backText','content']}}"><view slot="backText" class="data-v-9b858fac">返回</view><view slot="content" class="data-v-9b858fac">任务中心</view></cu-custom><block wx:if="{{!has_task&&!loading}}"><view class="no-task data-v-9b858fac"><image style="width:100%;" src="https://boboyun.oss-cn-hangzhou.aliyuncs.com/bgt/no-task.png" mode="aspectFit" class="data-v-9b858fac"></image><text class="text-grey text-xl data-v-9b858fac">没有任务</text><view class="_br data-v-9b858fac"></view><view class="flex margin-top justify-around data-v-9b858fac"><button data-event-opts="{{[['tap',[['init',['$event']]]]]}}" class="cu-btn round bg-gradual-green lg data-v-9b858fac" bindtap="__e">刷新任务</button><button data-event-opts="{{[['tap',[['goto_add',['$event']]]]]}}" class="cu-btn round bg-gradual-blue lg data-v-9b858fac" bindtap="__e">前往创建任务</button></view></view></block><view class="tab-list bg-white data-v-9b858fac"><block wx:for="{{tab_list}}" wx:for-item="tab" wx:for-index="index" wx:key="id"><view data-event-opts="{{[['tap',[['select_tab',['$0',index],[[['tab_list','id',tab.id,'id']]]]]]]}}" class="{{['item data-v-9b858fac',(current_tab.id==tab.id)?'active':'']}}" bindtap="__e"><text class="item-text data-v-9b858fac">{{tab.name+"("+tab.data.length+")"}}</text></view></block></view><block wx:if="{{user_role==='head'&&has_task&&!loading}}"><mescroll-uni vue-id="2" up="{{upOption}}" down="{{downOption}}" top="{{c_CustomBar}}" data-event-opts="{{[['^down',[['downCallback']]],['^up',[['upCallback']]],['^scroll',[['scroll']]],['^init',[['mescrollInit']]]]}}" bind:down="__e" bind:up="__e" bind:scroll="__e" bind:init="__e" class="data-v-9b858fac" bind:__l="__l" vue-slots="{{['default']}}"><view class="list data-v-9b858fac"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['go_detail',['$0'],[[['p_list','id',item.$orig.id]]]]]]]}}" class="list-item bg-white  data-v-9b858fac" bindtap="__e"><view class="top-main text-grey data-v-9b858fac"><text class="title data-v-9b858fac">{{item.$orig.deviceName+"("+item.$orig.deviceNum+")"}}</text><text class="time data-v-9b858fac">{{"交期："+item.m0}}</text></view><view class="center-main data-v-9b858fac"><view class="schedule data-v-9b858fac"><block wx:if="{{item.$orig.status=='3'}}"><text class="schedule-num data-v-9b858fac">{{"进度 "+(item.$orig.proProgress||0)+"%"}}</text><view class="schedule-bar data-v-9b858fac" style="{{'width:'+(item.$orig.proProgress||0)+';'}}"></view></block><block wx:else><view class="schedule-num text-green data-v-9b858fac">{{''+(item.$orig.status=='2'?'待启动':'招募中')+''}}</view></block></view><view class="com-view data-v-9b858fac"><text class="num data-v-9b858fac">{{item.$orig.allHours||0}}</text><text class="tip text-grey data-v-9b858fac">累计工时</text></view><view class="com-view data-v-9b858fac"><text class="num err-color data-v-9b858fac">{{item.$orig.abnormalityNum||0}}</text><text class="tip text-grey data-v-9b858fac">累计异常</text></view><view class="com-view data-v-9b858fac"><text class="num data-v-9b858fac"><text class="text-blue data-v-9b858fac">{{item.$orig.allcost||0}}</text>/<text class="data-v-9b858fac">{{item.$orig.budget}}</text></text><text class="tip text-grey data-v-9b858fac">实时/预算</text></view></view><view class="bottom-main text-gray data-v-9b858fac"><view class="flex align-center data-v-9b858fac"><text class="cuIcon-locationfill margin-right-xs data-v-9b858fac"></text><text class="data-v-9b858fac">{{item.$orig.scompany}}</text></view><view class="data-v-9b858fac">{{''+item.m1+''}}</view></view></view></block></view></mescroll-uni><view data-event-opts="{{[['tap',[['goto_add',['$event']]]]]}}" class="fixed-add shadow bg-blue data-v-9b858fac" bindtap="__e"><view class="cuIcon-add text-white text-df data-v-9b858fac"></view></view></block><block wx:if="{{user_role==='artisan'&&show_artisan}}"><task-artisan class="task-artisan data-v-9b858fac" vue-id="3" bind:__l="__l"></task-artisan></block></view>