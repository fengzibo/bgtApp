(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabbar/my/myInfo/step1"],{"035b":function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},s=[];a.d(t,"a",function(){return o}),a.d(t,"b",function(){return s})},"0e3a":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a("2f62");function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},o=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),o.forEach(function(t){r(e,t,a[t])})}return e}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var i=null,n={props:{res:{type:Object,default:function(){return{}}}},data:function(){return{imageSrc:"",has_id_card:!1,form_data:{name:"",sex:"",date_birth:"",id_card:"",addr:"",phone:""},picker:["男","女"],sex_index:0,progress_model:!1,progress:0}},computed:s({},(0,o.mapState)(["user_info"]),(0,o.mapGetters)(["id"]),{has_res:function(){return"{}"!==JSON.stringify(this.res)}}),mounted:function(){this.has_res&&(console.log(this.res),this.form_data.name=this.res.name,this.form_data.sex=this.res.sex,this.form_data.id_card=this.res.idNumber,this.form_data.addr=this.res.address,this.form_data.phone=this.res.phone,this.form_data.date_birth=this.$utils.format_date(this.res.birthday))},methods:{chooseImage:function(){var t=this;e.chooseImage({count:1,sizeType:["compressed"],success:function(e){console.log("chooseImage success, temp path is",e);var a=e.tempFilePaths[0];t.imageSrc=a},fail:function(e){console.log("chooseImage fail",e)}})},identifyCard:function(){var t=this;if(""!=this.imageSrc){this.progress_model=!0;var a=e.uploadFile({url:this.$api_url+"personwx.idcardocr/1.0/",filePath:this.imageSrc,name:"idcard",header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(a){console.log("uploadImage success, res is:",a);var o=JSON.parse(a.data);if("1"==o.code)return t.progress_model=!1,void e.showToast({title:o.msg,icon:"none",duration:3e3});i=o.data,console.log(i),t.form_data.name=i.name,t.form_data.sex=i.sex,t.form_data.date_birth=t.$utils.format_date(i.birthday),t.form_data.id_card=i.idNumber,t.form_data.addr=i.address,t.has_id_card=!0,t.progress_model=!1,e.showToast({title:"识别成功",icon:"success",duration:1e3}),t.$emit("showTips","请确认信息，并填写正确的手机号码")},fail:function(a){console.log("uploadImage fail",a),e.showModal({content:a.errMsg,showCancel:!1}),t.progress_model=!1}});a.onProgressUpdate(function(e){console.log("上传进度"+e.progress),console.log("已经上传的数据长度"+e.totalBytesSent),console.log("预期需要上传的数据总长度"+e.totalBytesExpectedToSend);var a=e.progress;100==a&&(a=99),t.progress=a})}else e.showToast({title:"请拍摄或上传身份证",duration:2e3,icon:"none"})},PickerChange:function(e){this.sex_index=e.detail.value,this.form_data.sex=this.picker[this.sex_index]},validDateChange:function(e){this.form_data.date_birth=e.detail.value},next:function(){var t=this;console.log(this.form_data),e.showLoading({title:"提交中"});var a="personwx.basicinfo/1.0/",o={pname:this.form_data.name,sex:this.form_data.sex,birthday:this.form_data.date_birth,nation:this.has_res?this.res.nation:i.nation,address:this.form_data.addr,idNumber:this.form_data.id_card,phone:this.form_data.phone};this.has_res&&(a="personwx.basicwork/1.0/",o.id=this.id),this.$http.post(a,o).then(function(a){if(console.log(a),"0"==a.data.code){var o=JSON.parse(JSON.stringify(t.user_info));o.id=t.$utils._get(a,"data.data.data.data.pid",""),o.loginName=t.$utils._get(t.form_data,"name",o.nickName),t.$store.commit("setUserInfo",o),e.hideLoading(),t.has_res&&e.navigateBack({delta:1}),t.$emit("next"),t.$emit("showTips","更完整的工作信息将会给您带来更多的工作机会")}})}}};t.default=n}).call(this,a("543d")["default"])},8913:function(e,t,a){},d1ee:function(e,t,a){"use strict";var o=a("8913"),s=a.n(o);s.a},d5c9:function(e,t,a){"use strict";a.r(t);var o=a("035b"),s=a("f5bc");for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);a("d1ee");var i=a("2877"),n=Object(i["a"])(s["default"],o["a"],o["b"],!1,null,"dc87b33e",null);t["default"]=n.exports},f5bc:function(e,t,a){"use strict";a.r(t);var o=a("0e3a"),s=a.n(o);for(var r in o)"default"!==r&&function(e){a.d(t,e,function(){return o[e]})}(r);t["default"]=s.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/tabbar/my/myInfo/step1-create-component',
    {
        'pages/tabbar/my/myInfo/step1-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("d5c9"))
        })
    },
    [['pages/tabbar/my/myInfo/step1-create-component']]
]);                
