(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabbar/workbench/addPlan/addPlan"],{"06ee":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("2f62");function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a={data:function(){return{form_data:{deviceNo:"",title:"",description:""},person_list:[],check_arr:[],r_item:null}},computed:o({},(0,i.mapState)(["bgt_c_task","bgt_ct_id"]),(0,i.mapGetters)(["user_role","id"])),onLoad:function(t){t.item&&(this.r_item=JSON.parse(decodeURIComponent(t.item)),console.log(this.r_item),this.set_data(),this.get_plan_detail())},mounted:function(){this.get_people_list()},methods:{set_data:function(){this.form_data.deviceNo=this.r_item.deviceNo,this.form_data.title=this.r_item.title,this.form_data.description=this.r_item.description},get_people_list:function(){var t=this;this.$http.get("personwx.headpersonlist/1.0/",{proId:this.bgt_ct_id,pid:this.id}).then(function(e){console.log(e),t.person_list=t.$utils._get(e,"data.data",[])})},get_plan_detail:function(){this.$http.get("personwx.personconsoltaskget/1.0/",{id:this.r_item.id}).then(function(t){console.log("detail",t)})},checkboxChange:function(t){var e=this.person_list,n=t.detail.value;console.log(n),this.check_arr=n;for(var i=0,o=e.length;i<o;++i){var r=e[i];n.includes(r.id)?this.$set(r,"checked",!0):this.$set(r,"checked",!1)}},save_plan:function(){var e=this;this.$http.post("personwx.personconsoltasksu/1.0/",{id:this.$utils._get(this.r_item,"id",""),deviceNo:this.form_data.deviceNo,title:this.form_data.title,description:this.form_data.description,pids:this.check_arr.join(","),proId:this.bgt_ct_id}).then(function(n){console.log(n),t.$emit("refplan"),e.back()})},back:function(){t.navigateBack({delta:1})}}};e.default=a}).call(this,n("543d")["default"])},"3ce1":function(t,e,n){"use strict";n.r(e);var i=n("06ee"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);e["default"]=o.a},"65c2":function(t,e,n){"use strict";(function(t){n("ac93"),n("921b");i(n("66fd"));var e=i(n("f4be6"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"696b":function(t,e,n){},a110:function(t,e,n){"use strict";var i=n("696b"),o=n.n(i);o.a},f467:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},f4be6:function(t,e,n){"use strict";n.r(e);var i=n("f467"),o=n("3ce1");for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);n("a110");var a=n("2877"),c=Object(a["a"])(o["default"],i["a"],i["b"],!1,null,"18d9b340",null);e["default"]=c.exports}},[["65c2","common/runtime","common/vendor"]]]);