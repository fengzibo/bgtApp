(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/personList/personList"],{3655:function(t,i,n){"use strict";var s=n("d9d4"),o=n.n(s);o.a},"780b":function(t,i,n){"use strict";n.r(i);var s=n("7aed"),o=n("a99f");for(var e in o)"default"!==e&&function(t){n.d(i,t,function(){return o[t]})}(e);n("3655");var a=n("2877"),c=Object(a["a"])(o["default"],s["a"],s["b"],!1,null,"531cdd58",null);i["default"]=c.exports},"7aed":function(t,i,n){"use strict";var s=function(){var t=this,i=t.$createElement,n=(t._self._c,t.__map(t.p_list,function(i,n){var s=t.avatarUrl(i.avatarUrl);return{$orig:t.__get_orig(i),m0:s}}));t._isMounted||(t.e0=function(i){t.conditions_modal=!0}),t.$mp.data=Object.assign({},{$root:{l0:n}})},o=[];n.d(i,"a",function(){return s}),n.d(i,"b",function(){return o})},a99f:function(t,i,n){"use strict";n.r(i);var s=n("e3cf"),o=n.n(s);for(var e in s)"default"!==e&&function(t){n.d(i,t,function(){return s[t]})}(e);i["default"]=o.a},d9d4:function(t,i,n){},e3cf:function(t,i,n){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={data:function(){return{CustomBar:this.CustomBar,InputBottom:0,downOption:{auto:!1},upOption:{auto:!1,isLock:!0,textNoMore:"--没有更多数据了--"},conditions:{status:"0",isHead:"0"},p_list:[],loading:!0,conditions_modal:!1,status_radio:"0",switch_is_head:!1,recId:"",proId:"",tmplIds:["Srd7KdqNHEUsgzsGJLUNUHgB4RBc_IQIlspLT2V5Gps","9ISRNbi4HPawlkd-vZHt-7xX_CxQ91XPo8KTCsuTZCw"],mescroll:null,type_list:[]}},computed:{c_CustomBar:function(){return this.CustomBar+t.upx2px(100)},no_data:function(){return this.p_list.length<=0&&!this.loading},check_length:function(){var t=0;return this.p_list.forEach(function(i){i.checked&&t++}),t}},onLoad:function(i){var n=this;this.recId=i.recId||"",this.proId=i.proId||"",t.$on("refreshList",function(){console.log("refreshList"),n.init(),n.get_type_list()}),this.init(),this.get_type_list()},onUnload:function(){t.$off("refreshJwt")},methods:{init:function(t){var i=this;this.$http.get("personwx.personinfolist/1.0/",{status:this.conditions.status,isHead:this.conditions.isHead}).then(function(n){console.log(n),i.p_list=n.data.data,i.p_list.forEach(function(t){i.$set(t,"checked",!1)}),i.loading=!1,"function"==typeof t&&t()})},get_type_list:function(){var t=this;this.$http.post("personwx.tylelist/1.0/").then(function(i){t.type_list=t.$utils._get(i,"data.data.data",[]),console.log(i)})},mescrollInit:function(t){this.mescroll=t,t.showNoMore()},downCallback:function(t){t.resetUpScroll()},upCallback:function(t){var i=this;setTimeout(function(){i.init(function(){t.endSuccess(i.p_list.length,!1)})},300)},InputFocus:function(t){this.InputBottom=t.detail.height},InputBlur:function(t){this.InputBottom=0},checkboxChange:function(t){for(var i=this.p_list,n=t.detail.value,s=0,o=i.length;s<o;++s){var e=i[s];n.includes(e.id)?this.$set(e,"checked",!0):this.$set(e,"checked",!1)}},goto_detail:function(i){t.navigateTo({url:"/pages/auditDetail/auditDetail?id=".concat(i.id)})},hideModal:function(){this.conditions_modal=!1},RadioChange:function(t){this.status_radio=t.detail.value},SwitchHead:function(t){this.switch_is_head=t.detail.value},res_conditions:function(){this.status_radio="0",this.switch_is_head=!1},sub_search:function(){this.conditions.status=this.status_radio,this.conditions.isHead=this.switch_is_head?"1":"0",this.loading=!0,this.conditions_modal=!1,this.init()},showRsm:function(){var i=this;wx.requestSubscribeMessage({tmplIds:this.tmplIds,success:function(n){if(console.log(n),"accept"===n["Srd7KdqNHEUsgzsGJLUNUHgB4RBc_IQIlspLT2V5Gps"]||"accept"===n["9ISRNbi4HPawlkd-vZHt-7xX_CxQ91XPo8KTCsuTZCw"]){t.showLoading({title:"加载中"});var s=[],o=[];i.p_list.forEach(function(t){t.checked&&(s.push(t.id),o.push(t.openId))});var e={Ids:s.join(),openIds:o.join(),recId:i.recId,path:"pages/tabbar/task/task",proId:i.proId};console.log(e),i.$http.post("personwx.chooseperson/1.0/",e).then(function(n){console.log(n),i.$utils._get(n,"data.success",!1)&&(t.$emit("refreshzmList"),t.navigateBack({delta:1}),t.hideLoading())})}},fail:function(t){console.log(t)}})},avatarUrl:function(t){return"url(".concat(t,")")},typeChange:function(t){for(var i=this.type_list,n=t.detail.value,s=0,o=i.length;s<o;++s){var e=i[s];n.includes(e.id)?this.$set(e,"checked",!0):this.$set(e,"checked",!1)}}}};i.default=n}).call(this,n("543d")["default"])},f5df:function(t,i,n){"use strict";(function(t){n("ac93"),n("921b");s(n("66fd"));var i=s(n("780b"));function s(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,n("543d")["createPage"])}},[["f5df","common/runtime","common/vendor"]]]);