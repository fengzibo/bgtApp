(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/personList/personList"],{3222:function(t,i,e){},3404:function(t,i,e){"use strict";var s,n=function(){var t=this,i=t.$createElement,e=(t._self._c,t.__map(t.p_list,function(i,e){var s=t.avatarUrl(i.headImg);return{$orig:t.__get_orig(i),m0:s}}));t._isMounted||(t.e0=function(i){t.conditions_modal=!0}),t.$mp.data=Object.assign({},{$root:{l0:e}})},o=[];e.d(i,"b",function(){return n}),e.d(i,"c",function(){return o}),e.d(i,"a",function(){return s})},"780b":function(t,i,e){"use strict";e.r(i);var s=e("3404"),n=e("a99f");for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);e("a293");var a,c=e("f0c5"),r=Object(c["a"])(n["default"],s["b"],s["c"],!1,null,"6586f0ff",null,!1,s["a"],a);i["default"]=r.exports},a293:function(t,i,e){"use strict";var s=e("3222"),n=e.n(s);n.a},a99f:function(t,i,e){"use strict";e.r(i);var s=e("d36b"),n=e.n(s);for(var o in s)"default"!==o&&function(t){e.d(i,t,function(){return s[t]})}(o);i["default"]=n.a},d36b:function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={data:function(){return{CustomBar:this.CustomBar,InputBottom:0,downOption:{auto:!1},upOption:{auto:!1,isLock:!0,textNoMore:"--没有更多数据了--"},conditions:{status:"0",isHead:"0"},p_list:[],loading:!0,conditions_modal:!1,status_radio:"0",switch_is_head:!1,recId:"",proId:"",tmplIds:["Srd7KdqNHEUsgzsGJLUNUHgB4RBc_IQIlspLT2V5Gps","9ISRNbi4HPawlkd-vZHt-7xX_CxQ91XPo8KTCsuTZCw"],mescroll:null,type_list:[],search_value:"",select_types:[],hasSameDevice:!1,rateOrder:!1,projNumOrder:!1,sameDevice:""}},computed:{c_CustomBar:function(){return this.CustomBar+t.upx2px(100)},no_data:function(){return this.p_list.length<=0&&!this.loading},check_length:function(){var t=0;return this.p_list.forEach(function(i){i.checked&&t++}),t}},onLoad:function(i){var e=this;this.recId=i.recId||"",this.proId=i.proId||"",t.$on("refreshList",function(){console.log("refreshList"),e.init(),e.get_type_list()}),this.init(),this.get_type_list()},onUnload:function(){t.$off("refreshJwt")},methods:{init:function(i){var e=this;t.showLoading({title:"加载中"}),this.$http.get("personwx.personinfolist/1.0/",{status:this.conditions.status,isHead:this.conditions.isHead,searchKey:this.search_value,types:this.select_types.join(","),hasSameDevice:this.sameDevice,rateOrder:this.rateOrder,projNumOrder:this.projNumOrder,rpId:this.recId}).then(function(s){console.log(s),e.p_list=s.data.data,e.p_list.forEach(function(t){e.$set(t,"checked",!1)}),e.loading=!1,e.$nextTick(function(){t.hideLoading()}),"function"==typeof i&&i()})},get_type_list:function(){var t=this;this.$http.post("personwx.tylelist/1.0/").then(function(i){t.type_list=t.$utils._get(i,"data.data.data",[]),console.log(i)})},mescrollInit:function(t){this.mescroll=t,t.showNoMore()},downCallback:function(t){t.resetUpScroll()},upCallback:function(t){var i=this;setTimeout(function(){i.init(function(){t.endSuccess(i.p_list.length,!1)})},300)},InputFocus:function(t){this.InputBottom=t.detail.height},InputBlur:function(t){this.InputBottom=0},checkboxChange:function(t){for(var i=this.p_list,e=t.detail.value,s=0,n=i.length;s<n;++s){var o=i[s];e.includes(o.id)?this.$set(o,"checked",!0):this.$set(o,"checked",!1)}},goto_detail:function(i){t.navigateTo({url:"/pages/auditDetail/auditDetail?pid=".concat(i.id,"&isWork=true")})},hideModal:function(){this.conditions_modal=!1},RadioChange:function(t){this.status_radio=t.detail.value},SwitchHead:function(t){this.switch_is_head=t.detail.value},SwitchHsd:function(t){this.hasSameDevice=t.detail.value},rateChange:function(t){this.rateOrder="1"==t.detail.value},projChange:function(t){this.projNumOrder="1"==t.detail.value},res_conditions:function(){var t=this;this.status_radio="0",this.switch_is_head=!1,this.type_list.forEach(function(i){t.$set(i,"checked",!1)}),this.projNumOrder=!1,this.rateOrder=!1,this.hasSameDevice=!1,this.sameDevice=""},sub_search:function(){this.conditions.status=this.status_radio,this.conditions.isHead=this.switch_is_head?"1":"0",this.loading=!0,this.conditions_modal=!1;var t=this.$_.filter(this.type_list,["checked",!0]);console.log(t),this.select_types=this.$_.map(t,"id"),console.log(this.select_types),this.init()},showRsm:function(){var i=this;wx.requestSubscribeMessage({tmplIds:this.tmplIds,success:function(e){if(console.log(e),"accept"===e["Srd7KdqNHEUsgzsGJLUNUHgB4RBc_IQIlspLT2V5Gps"]||"accept"===e["9ISRNbi4HPawlkd-vZHt-7xX_CxQ91XPo8KTCsuTZCw"]){t.showLoading({title:"加载中"});var s=[],n=[];i.p_list.forEach(function(t){t.checked&&(s.push(t.id),n.push(t.openId))});var o={Ids:s.join(),openIds:n.join(),recId:i.recId,path:"pages/tabbar/task/task",proId:i.proId};console.log(o),i.$http.post("personwx.chooseperson/1.0/",o).then(function(e){console.log(e),i.$utils._get(e,"data.success",!1)&&(t.$emit("refreshzmList"),t.navigateBack({delta:1}),t.hideLoading())})}},fail:function(t){console.log(t)}})},avatarUrl:function(t){return"url(".concat(t,")")},typeChange:function(t){for(var i=this.type_list,e=t.detail.value,s=0,n=i.length;s<n;++s){var o=i[s];e.includes(o.id)?this.$set(o,"checked",!0):this.$set(o,"checked",!1)}}}};i.default=e}).call(this,e("543d")["default"])},f5df:function(t,i,e){"use strict";(function(t){e("ac93"),e("921b");s(e("66fd"));var i=s(e("780b"));function s(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,e("543d")["createPage"])}},[["f5df","common/runtime","common/vendor"]]]);