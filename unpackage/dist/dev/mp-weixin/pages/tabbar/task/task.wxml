<view class="task-index data-v-5f7d827a"><cu-custom vue-id="1" bgColor="bg-gradual-blue" class="data-v-5f7d827a" bind:__l="__l" vue-slots="{{['backText','content']}}"><view slot="backText" class="data-v-5f7d827a">返回</view><view slot="content" class="data-v-5f7d827a">任务中心</view></cu-custom><block wx:if="{{!has_task}}"><view class="no-task data-v-5f7d827a"><image style="width:100%;" src="https://boboyun.oss-cn-hangzhou.aliyuncs.com/bgt/no-task.png" mode="aspectFit" class="data-v-5f7d827a"></image><text class="text-grey text-xl data-v-5f7d827a">没有任务</text><view class="_br data-v-5f7d827a"></view><button data-event-opts="{{[['tap',[['goto_add',['$event']]]]]}}" class="cu-btn round bg-gradual-blue lg margin-top data-v-5f7d827a" bindtap="__e">前往创建任务</button></view></block><block wx:if="{{user_role==='head'&&has_task}}"><view class="tab-list bg-white data-v-5f7d827a"><block wx:for="{{tab_list}}" wx:for-item="tab" wx:for-index="index" wx:key="id"><view data-event-opts="{{[['tap',[['select_tab',['$0',index],[[['tab_list','id',tab.id,'id']]]]]]]}}" class="{{['item data-v-5f7d827a',(current_tab.id==tab.id)?'active':'']}}" bindtap="__e"><text class="item-text data-v-5f7d827a">{{tab.name+"("+tab.data.length+")"}}</text></view></block></view><swiper class="swiper-box data-v-5f7d827a" current="{{current_tab.index}}" duration="{{300}}" data-event-opts="{{[['change',[['ontabchange',['$event']]]]]}}" bindchange="__e"><block wx:for="{{tab_list}}" wx:for-item="tab" wx:for-index="index1" wx:key="index1"><swiper-item class="swiper-item data-v-5f7d827a"><scroll-view class="scroll-v data-v-5f7d827a" scroll-y data-event-opts="{{[['scrolltolower',[['loadMore',[index1]]]]]}}" bindscrolltolower="__e"><view class="list data-v-5f7d827a"><block wx:for="{{tab.data}}" wx:for-item="item" wx:for-index="index2" wx:key="index2"><view data-event-opts="{{[['tap',[['go_detail',['$0'],[[['tab_list','',index1],['data','',index2]]]]]]]}}" class="list-item bg-white  data-v-5f7d827a" bindtap="__e"><view class="top-main text-grey data-v-5f7d827a"><text class="title data-v-5f7d827a">{{item.name}}</text><text class="time data-v-5f7d827a">{{"交期："+item.time}}</text></view><view class="center-main data-v-5f7d827a"><view class="schedule data-v-5f7d827a"><text class="schedule-num data-v-5f7d827a">{{"进度 "+item.schedule}}</text><view class="schedule-bar data-v-5f7d827a" style="{{'width:'+(item.schedule)+';'}}"></view></view><view class="com-view data-v-5f7d827a"><text class="num data-v-5f7d827a">{{item.hour}}</text><text class="tip text-grey data-v-5f7d827a">累计工时</text></view><view class="com-view data-v-5f7d827a"><text class="num data-v-5f7d827a">{{item.cost}}</text><text class="tip text-grey data-v-5f7d827a">累计成本</text></view><view class="com-view data-v-5f7d827a"><text class="num err-color data-v-5f7d827a">{{item.err}}</text><text class="tip text-grey data-v-5f7d827a">累计异常</text></view></view><view class="bottom-main text-gray data-v-5f7d827a"><text class="cuIcon-locationfill margin-right-xs data-v-5f7d827a"></text><text class="data-v-5f7d827a">{{item.address}}</text></view></view></block></view></scroll-view></swiper-item></block></swiper><view data-event-opts="{{[['tap',[['goto_add',['$event']]]]]}}" class="fixed-add shadow bg-blue data-v-5f7d827a" bindtap="__e"><view class="cuIcon-add text-white text-df data-v-5f7d827a"></view></view></block><block wx:if="{{user_role==='artisan'&&has_task}}"><task-artisan class="task-artisan data-v-5f7d827a" vue-id="2" bind:__l="__l"></task-artisan></block></view>